import"../chunks/Bg9kRutz.js";import{p as C,s as g,x as S,f as E,a as i,t as I,b as L,c as m,g as l,d as O,r as j}from"../chunks/DcXOzaEg.js";import{d as N,s as q}from"../chunks/aqfec0Tb.js";import{i as z}from"../chunks/D9jkW2Bg.js";import{t as f,a as p}from"../chunks/CeV72iTy.js";import{p as c}from"../chunks/DjXMhOfb.js";import{w as J}from"../chunks/BRI8rBRn.js";import{p as M}from"../chunks/DlUJ2RW9.js";import{C as P}from"../chunks/DFkrzERR.js";function T({params:a}){return{roomID:a.room_id}}const Y=Object.freeze(Object.defineProperty({__proto__:null,load:T},Symbol.toStringTag,{value:"Module"}));var W=f("<p>Connected</p>"),A=f("<p>Not connected</p>"),B=f("<h2> </h2> <button>Init conn</button> <!> <!>",1);function Z(a,d){C(d,!0);let r=g(!1),b=c({}),s=g(c({x:0,y:0}));const h=J({requests:[]});let t=null;function w(){t||(t=new WebSocket(`ws://localhost:8080/ws/room/${M.params.room_id}/client/`),t.addEventListener("open",()=>{m(r,!0)}),t.addEventListener("close",()=>{m(r,!1)}),t.addEventListener("message",e=>{}))}S(()=>{const e=l(s);if(t){const o=JSON.stringify(e);t.send(o)}});var u=B(),n=E(u),x=O(n);j(n);var v=i(n,2);v.__click=w;var _=i(v,2);{var y=e=>{var o=W();p(e,o)},D=e=>{var o=A();p(e,o)};z(_,e=>{l(r)?e(y):e(D,!1)})}var k=i(_,2);return P(k,{get roomData(){return b},mode:"client",get mouse(){return l(s)},set mouse(e){m(s,c(e))}}),I(()=>q(x,`${d.data.roomID??""} client`)),p(a,u),L({msg:h})}N(["click"]);export{Z as component,Y as universal};
